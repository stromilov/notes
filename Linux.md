# Linux

##### Создание пользователя
`useradd <имя_пользователя> [опции]`

Актуальный список ключей можно получить командой `useradd -h`.
###### Ключи (опции)

| Ключ | Описание и примеры                                                                                                                                            |
|:-----|:--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -b   | Задает базовый каталог для домашнего каталога `useradd user -b useradd dmosk`                                                                            |
| -c   | Создает комментарий для описания учетной записи `useradd dmosk -c "Пользователя для управления системой"`                                                |
| -d   | Полный путь к домашнему каталогу пользователяпримеры `useradd dmosk -d /home/newuser`                                                                   |
| -D   | Позволяет показать или изменить настройки по умолчанию, которые будут применяться при последующем создании пользователей `useradd dmosk -Ds /bin/bash`    |
| -e   | Дата, после которой учетная запись устареет. `useradd dmosk -e 2017-12-31`                                                                               |
| -f   | Число дней, после которого учетная запись с устаревшим паролем будет заблокирована <br> `useradd dmosk -f 0`                                                  |
| -g   | Задает основную группу `useradd dmosk -g altternativegroup`                                                                                              |
| -G   | Задает дополнительные группы `useradd dmosk -G wheel`                                                                                                    |
| -k   | Путь к источнику скелета (файлы с шаблонами для нового пользователя) `useradd dmosk -k /var/skel`                                                        |
| -m   | При создании пользователя создать домашний каталог `useradd dmosk -m`                                                                                    |
| -M   | Не создавать домашний каталог `useradd dmosk -M`                                                                                                         |
| -N   | Не создавать основную группу с таким же именем, как у пользователя `useradd dmosk -N`                                                                    |
| -o   | Разрешает создание учетной записи с повторяющимся UID `useradd dmosk -u 15 -o`                                                                           |
| -p   | Задает пароль `useradd dmosk -p pass`                                                                                                                    |
| -r   | Системная учетная запись (без домашнего каталога и с идентификаторами в диапазоне SYS_UID_MIN - SYS_UID_MAX из файла /etc/login.defs) `useradd dmosk -r` |
| -R   | Каталог, в который выполняется chroot `useradd dmosk -R /var/chroot/home`                                                                                |
| -s   | Путь до оболочки командной строки `useradd dmosk -s /bin/csh`                                                                                            |
| -u   | Задает UID `useradd dmosk -u 666`                                                                                                                        |
| -U   | Имя группы будет таким же, как у пользователя `useradd dmosk -U`                                                                                         |
<br>
##### Редактирование

`usermod <имя пользователя> [опции]`
###### Пример:
usermod user -G name_group

##### Удаление `userdel <имя пользователя> [опции]`

##### Блокировка
Можно заблокировать пользователя, не удаляя его из системы:
`usermod -L <имя пользователя>`

###### Пример:
`usermod -L dmosk`

Чтобы разблокировать пользователя, вводим:
`usermod -U <имя пользователя>`

###### Узнать права пользователя



###### Показать пользователей в системе
`cat /etc/passwd`
Каждый аккаунт занимает одну строку, в формате `account:password:UID:GID:GECOS:directory:shell`

`account`   — имя пользователя.
`password`  — зашифрованный пароль пользователя.
`UID`       — идентификационный номер пользователя.
`GID`       — идентификационный номер основной группы пользователя.
`GECOS`     — необязательное поле, используемое для указания дополнительной информации о пользователе (например, полное имя пользователя).
`directory` — домашний каталог (`$HOME`) пользователя.
`shell`     — командный интерпретатор пользователя (обычно `/bin/sh`).


###### Сменить пароль пользователя
`passwd`

###### Сменить пароль другого пользователя
`sudo passwd user`
