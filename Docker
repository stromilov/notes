Docker



docker search <имя_образа>            --поиск образа в репозитории на docker hub


docker pull <имя_образа>:[версия]     --скачать образ
                         latest       --последняя версия (по умолчанию)

docker images                   --показать скачанные образы


docker rmi <имя_образа>         --удалить образ

docker images -f dangling=true  --образы не привязанные к контейнеру

docker images purge             --удаление образов не привязанных к контейнеру
docker rmi $(docker -a -q)      --удаление всех образов


docker rm <имя_контейнера>      --удалить контейнер

docker system prune [опции]     --очищающая все не связанные с контейнерами ресурсы, в том числе образы, контейнеры, тома и сети
                     -a         --удалить все остановленные контейнеры и неиспользуемые образы (а не только образы, не связанные с контейнерами)


docker run [ключи] <имя_образа> [команда]     --запуск контейнера из образа
                                echo "hello"  --с одновременным запуском команды echo 
           -i                                 --держит STDIN и открытым даже если контейнер не подключен
           -t                                 --псевдотерминал, соединяет используемый терминал с потоками STDIN и STDOUT контейнера
           -p 8000:8080                       --перенаправляет порт хоста 8000 на порт 8080 контейнера
           -P                                 --для каждого объявленного порта выбирается свободный порт
           --rm                               --автоматически удаляет контейнер после того, как его выполнение завершится
           --name                             --задать имя контейнера
           -h                                 --задать имя хоста
           -d                                 --запуск в фоновом режиме (как демон)
           -v /путь:/путь                     --монтирование папки из хоста в контейнер, по умолчанию монтируется в текущей папке хоста
           --voluems-from                     --монтирует том из заданного контейнера
           --link <client>:<host>             --установка соединения между запущенным контейнером и текущим
           --restart                          --перезапускает контейнер если контейнер остановлен
           -e var1=<значение>                 --определяет переменные среды внутри контейнера
           --expose                           --аналог EXPOSE. определяет порты
           -u                                 --определяет пользователя для выполнения команд
           -w                                 --устанавливает рабочий каталог
           
           
docker attach <имя_контейнера>                --подключение к запущенному контейнеру
Ctrl + P,  Ctrl + Q                           --отключиться от контейнера без его остановки
Ctrl + C                                      --остановить контейнер и отключиться

docker ps [опции]                --отобразить запущенные контейнеры
          -a                     --все контейнеры
          -q                     --ID контейнера
          -s                     --размер контенера
          -f  status=created     --созданные
                     restarting  --перезапускается
                     running     --работает
                     paused      --приостановлен
                     exited      --выполнен выход
                     
                     
docker stop <имя_контейнера>     --остановка контейнера

docker start <имя_контейнера>    --возобновление работы контейнера

docker inspect <имя_контейнера>  --подробная информация о контейнере





При установке, Docker автоматически создаст три сети: bridge (по умолчанию контейнер подключен к этой сети), host и none.

host     --Контейнер не будет виртуализировать свою собственную сетевую карту, настраивать собственный IP-адрес и т. д., а 
           будет использовать IP-адрес и порт хост-машины (режим моста)
none     --этот режим отключает сетевую функцию контейнера, которая эквивалентна петлевой сети
bridge   --этот режим назначает и устанавливает IP для каждого контейнера, подключает контейнер к виртуальному мосту, 
           называемому docker0, и связывается с хостом через мост docker0 и конфигурацию таблицы Iptables nat (режим NAT)
           
           
           



docker network ls               --список сетей


docker exec <команда>           --запуск команды внутри контейнера

Информация о контейнере

docker diff                     --
docker events                   --
docker inspect                  --
docker logs                     --
docker port                     --
docker ps                       --
docker top                      --общая информация о процессах



Работа с образами

docker build
docker commit
docker export
docker history
docker images
docker import
docker load
docker rmi
docker save
docker tag

Работа с реестром

docker login
docker logout
docker pull
docker push
docker search

